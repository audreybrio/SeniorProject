'use strict';Object.defineProperty(exports,"__esModule",{value:!0});var vue=require("vue");let mapSymbol=Symbol("map"),apiSymbol=Symbol("api"),markerSymbol=Symbol("marker"),mapTilesLoadedSymbol=Symbol("mapTilesLoaded"),loaderInstance=vue.ref(null),polylineEvents="click dblclick drag dragend dragstart mousedown mousemove mouseout mouseover mouseup rightclick".split(" ");
var fastDeepEqual=function equal(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var c;if(Array.isArray(a)){var d=a.length;if(d!=b.length)return!1;for(c=d;0!==c--;)if(!equal(a[c],b[c]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();var f=Object.keys(a);
d=f.length;if(d!==Object.keys(b).length)return!1;for(c=d;0!==c--;)if(!Object.prototype.hasOwnProperty.call(b,f[c]))return!1;for(c=d;0!==c--;)if(d=f[c],!equal(a[d],b[d]))return!1;return!0}return a!==a&&b!==b};let DEFAULT_ID="__googleMapsScriptId";
class Loader{constructor({apiKey:a,channel:b,client:e,id:c=DEFAULT_ID,libraries:d=[],language:f,region:g,version:l,mapIds:h,nonce:m,retries:k=3,url:n="https://maps.googleapis.com/maps/api/js"}){this.CALLBACK="__googleMapsCallback";this.callbacks=[];this.loading=this.done=!1;this.errors=[];this.version=l;this.apiKey=a;this.channel=b;this.client=e;this.id=c||DEFAULT_ID;this.libraries=d;this.language=f;this.region=g;this.mapIds=h;this.nonce=m;this.retries=k;this.url=n;if(Loader.instance){if(!fastDeepEqual(this.options,
Loader.instance.options))throw Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Loader.instance.options)}`);return Loader.instance}Loader.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url}}get failed(){return this.done&&!this.loading&&this.errors.length>=
this.retries+1}createUrl(){let a=this.url;a+=`?callback=${this.CALLBACK}`;this.apiKey&&(a+=`&key=${this.apiKey}`);this.channel&&(a+=`&channel=${this.channel}`);this.client&&(a+=`&client=${this.client}`);0<this.libraries.length&&(a+=`&libraries=${this.libraries.join(",")}`);this.language&&(a+=`&language=${this.language}`);this.region&&(a+=`&region=${this.region}`);this.version&&(a+=`&v=${this.version}`);this.mapIds&&(a+=`&map_ids=${this.mapIds.join(",")}`);return a}deleteScript(){let a=document.getElementById(this.id);
a&&a.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((a,b)=>{this.loadCallback(e=>{e?b(e.error):a(window.google)})})}loadCallback(a){this.callbacks.push(a);this.execute()}setScript(){if(document.getElementById(this.id))this.callback();else{var a=this.createUrl(),b=document.createElement("script");b.id=this.id;b.type="text/javascript";b.src=a;b.onerror=this.loadErrorCallback.bind(this);b.defer=!0;b.async=!0;this.nonce&&(b.nonce=this.nonce);document.head.appendChild(b)}}reset(){this.deleteScript();
this.loading=this.done=!1;this.errors=[];this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(a){this.errors.push(a);this.errors.length<=this.retries?(a=this.errors.length*Math.pow(2,this.errors.length),console.log(`Failed to load Google Maps script, retrying in ${a} ms.`),setTimeout(()=>{this.deleteScript();this.setScript()},a)):(this.onerrorEvent=a,this.callback())}setCallback(){window.__googleMapsCallback=this.callback.bind(this)}callback(){this.done=!0;this.loading=
!1;this.callbacks.forEach(a=>{a(this.onerrorEvent)});this.callbacks=[]}execute(){this.resetIfRetryingFailed();this.done?this.callback():window.google&&window.google.maps&&window.google.maps.version?(console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),this.callback()):this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}let mapEvents="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed".split(" ");
var _sfc_main$2=vue.defineComponent({props:{apiKey:{type:String,default:""},version:{type:String,default:"weekly"},libraries:{type:Array,default:()=>["places"]},region:{type:String,required:!1},language:{type:String,required:!1},backgroundColor:{type:String,required:!1},center:{type:Object,default:()=>({lat:0,lng:0})},clickableIcons:{type:Boolean,required:!1,default:void 0},controlSize:{type:Number,required:!1},disableDefaultUi:{type:Boolean,required:!1,default:void 0},disableDoubleClickZoom:{type:Boolean,
required:!1,default:void 0},draggable:{type:Boolean,required:!1,default:void 0},draggableCursor:{type:String,required:!1},draggingCursor:{type:String,required:!1},fullscreenControl:{type:Boolean,required:!1,default:void 0},fullscreenControlPosition:{type:String,required:!1},gestureHandling:{type:String,required:!1},heading:{type:Number,required:!1},keyboardShortcuts:{type:Boolean,required:!1,default:void 0},mapTypeControl:{type:Boolean,required:!1,default:void 0},mapTypeControlOptions:{type:Object,
required:!1},mapTypeId:{type:[Number,String],required:!1},maxZoom:{type:Number,required:!1},minZoom:{type:Number,required:!1},noClear:{type:Boolean,required:!1,default:void 0},panControl:{type:Boolean,required:!1,default:void 0},panControlPosition:{type:String,required:!1},restriction:{type:Object,required:!1},rotateControl:{type:Boolean,required:!1,default:void 0},rotateControlPosition:{type:String,required:!1},scaleControl:{type:Boolean,required:!1,default:void 0},scaleControlStyle:{type:Number,
required:!1},scrollwheel:{type:Boolean,required:!1,default:void 0},streetView:{type:Object,required:!1},streetViewControl:{type:Boolean,required:!1,default:void 0},streetViewControlPosition:{type:String,required:!1},styles:{type:Array,required:!1},tilt:{type:Number,required:!1},zoom:{type:Number,required:!1},zoomControl:{type:Boolean,required:!1,default:void 0},zoomControlPosition:{type:String,required:!1}},emits:mapEvents,setup(a,{emit:b}){let e=vue.ref(null),c=vue.ref(!1),d=vue.ref(null),f=vue.ref(null),
g=vue.ref(!1);vue.provide(mapSymbol,d);vue.provide(apiSymbol,f);vue.provide(mapTilesLoadedSymbol,g);let l=()=>{const b={...a};Object.keys(b).forEach(a=>{void 0===b[a]&&delete b[a]});var n=a=>{var b;return a?{position:null===(b=f.value)||void 0===b?void 0:b.ControlPosition[a]}:{}};n={scaleControlOptions:a.scaleControlStyle?{style:a.scaleControlStyle}:{},panControlOptions:n(a.panControlPosition),zoomControlOptions:n(a.zoomControlPosition),rotateControlOptions:n(a.rotateControlPosition),streetViewControlOptions:n(a.streetViewControlPosition),
fullscreenControlOptions:n(a.fullscreenControlPosition),disableDefaultUI:a.disableDefaultUi};return{...b,...n}},h=vue.watch([f,d],([a,b])=>{a&&b&&(a.event.addListenerOnce(b,"tilesloaded",()=>{g.value=!0}),setTimeout(h,0))},{immediate:!0}),m=()=>{try{const {apiKey:b,region:c,version:d,language:e,libraries:f}=a;loaderInstance.value=new Loader({apiKey:b,region:c,version:d,language:e,libraries:f})}catch(k){console.error(k)}};vue.onMounted(()=>{m();loaderInstance.value.load().then(()=>{f.value=google.maps;
d.value=new google.maps.Map(e.value,l());mapEvents.forEach(a=>{var c;null===(c=d.value)||void 0===c?void 0:c.addListener(a,c=>b(a,c))});c.value=!0;let k=Object.keys(a).filter(a=>!["center","zoom"].includes(a)).map(b=>vue.toRef(a,b));vue.watch([()=>a.center,()=>a.zoom,...k],([a,b],[c,e])=>{var n,k,f;let {center:g,zoom:h,...m}=l();null===(n=d.value)||void 0===n?void 0:n.setOptions(m);void 0!==b&&b!==e&&(null===(k=d.value)||void 0===k?void 0:k.setZoom(b));b=!c||a.lng!==c.lng||a.lat!==c.lat;a&&b&&(null===
(f=d.value)||void 0===f?void 0:f.panTo(a))})})});vue.onBeforeUnmount(()=>{var a;g.value=!1;d.value&&(null===(a=f.value)||void 0===a?void 0:a.event.clearInstanceListeners(d.value))});return{mapRef:e,ready:c,map:d,api:f,mapTilesLoaded:g}}});
function styleInject(a,b){void 0===b&&(b={});b=b.insertAt;if(a&&"undefined"!==typeof document){var e=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css";"top"===b?e.firstChild?e.insertBefore(c,e.firstChild):e.appendChild(c):e.appendChild(c);c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))}}var css_248z$1="\n.mapdiv[data-v-177d06e3] {\n  width: 100%;\n  height: 100%;\n}\n";styleInject(css_248z$1);let _withId$1=vue.withScopeId("data-v-177d06e3");
vue.pushScopeId("data-v-177d06e3");let _hoisted_1$2={ref:"mapRef",class:"mapdiv"};vue.popScopeId();let _sfc_render$2=_withId$1((a,b,e,c,d,f)=>(vue.openBlock(),vue.createBlock("div",null,[vue.createVNode("div",_hoisted_1$2,null,512),vue.renderSlot(a.$slots,"default",{ready:a.ready,map:a.map,api:a.api,mapTilesLoaded:a.mapTilesLoaded},void 0,!0)])));_sfc_main$2.render=_sfc_render$2;_sfc_main$2.__scopeId="data-v-177d06e3";
let useSetupMapComponent=(a,b,e,c)=>{let d=null;const f=vue.ref(null),g=vue.inject(mapSymbol,vue.ref(null)),l=vue.inject(apiSymbol,vue.ref(null));vue.watch([g,e],(h,[m,k])=>{h=JSON.stringify(e.value)!==JSON.stringify(k)||g.value!==m;g.value&&l.value&&h&&(d?(d.setOptions(e.value),d.setMap(g.value)):(f.value=d=new l.value[a]({...e.value,map:g.value}),b.forEach(a=>{null===d||void 0===d?void 0:d.addListener(a,b=>c(a,b))})))},{immediate:!0});vue.onBeforeUnmount(()=>{var a;d&&(null===(a=l.value)||void 0===
a?void 0:a.event.clearInstanceListeners(d),d.setMap(null))});return f},markerEvents="animation_changed click dblclick rightclick dragstart dragend drag mouseover mousedown mouseout mouseup draggable_changed clickable_changed contextmenu cursor_changed flat_changed rightclick zindex_changed icon_changed position_changed shape_changed title_changed visible_changed".split(" ");
var Marker=vue.defineComponent({name:"Marker",props:{options:{type:Object,required:!0}},emits:markerEvents,setup(a,{emit:b,expose:e,slots:c}){a=vue.toRef(a,"options");b=useSetupMapComponent("Marker",markerEvents,a,b);vue.provide(markerSymbol,b);e({marker:b});return()=>{var a;return null===(a=c.default)||void 0===a?void 0:a.call(c)}}}),Polyline=vue.defineComponent({name:"Polyline",props:{options:{type:Object,required:!0}},emits:polylineEvents,setup(a,{emit:b}){a=vue.toRef(a,"options");return{polyline:useSetupMapComponent("Polyline",
polylineEvents,a,b)}},render:()=>null}),Polygon=vue.defineComponent({name:"Polygon",props:{options:{type:Object,required:!0}},emits:polylineEvents,setup(a,{emit:b}){a=vue.toRef(a,"options");return{polygon:useSetupMapComponent("Polygon",polylineEvents,a,b)}},render:()=>null});let rectangleEvents=polylineEvents.concat(["bounds_changed"]);
var Rectangle=vue.defineComponent({name:"Rectangle",props:{options:{type:Object,required:!0}},emits:rectangleEvents,setup(a,{emit:b}){a=vue.toRef(a,"options");return{rectangle:useSetupMapComponent("Rectangle",rectangleEvents,a,b)}},render:()=>null});let circleEvents=polylineEvents.concat(["center_changed","radius_changed"]);
var Circle=vue.defineComponent({name:"Circle",props:{options:{type:Object,required:!0}},emits:circleEvents,setup(a,{emit:b}){a=vue.toRef(a,"options");return{circle:useSetupMapComponent("Circle",circleEvents,a,b)}},render:()=>null}),_sfc_main$1=vue.defineComponent({props:{position:{type:String,required:!0},index:{type:Number,default:1}},emits:["content:loaded"],setup(a,{emit:b}){let e=vue.ref(null),c=vue.inject(mapSymbol,vue.ref(null)),d=vue.inject(apiSymbol,vue.ref(null)),f=vue.inject(mapTilesLoadedSymbol,
vue.ref(!1)),g=vue.ref(!1),l=vue.watch([f,d,e],([c,d,e])=>{d&&c&&e&&(h(a.position),g.value=!0,b("content:loaded"),setTimeout(l,0))},{immediate:!0}),h=a=>{c.value&&d.value&&e.value&&c.value.controls[d.value.ControlPosition[a]].push(e.value)},m=a=>{if(c.value&&d.value){let b=null;a=d.value.ControlPosition[a];c.value.controls[a].forEach((a,c)=>{a===e.value&&(b=c)});null!==b&&c.value.controls[a].removeAt(b)}};vue.onBeforeUnmount(()=>m(a.position));vue.watch(()=>a.position,(a,b)=>{m(b);h(a)});vue.watch(()=>
a.index,b=>{b&&e.value&&(e.value.index=a.index)});return{controlRef:e,showContent:g}}});let _hoisted_1$1={ref:"controlRef"};function _sfc_render$1(a,b,e,c,d,f){return vue.openBlock(),vue.createBlock(vue.Fragment,null,[vue.createCommentVNode("\n    v-show must be used instead of v-if otherwise there\n    would be no rendered content pushed to the map controls\n  "),vue.withDirectives(vue.createVNode("div",_hoisted_1$1,[vue.renderSlot(a.$slots,"default")],512),[[vue.vShow,a.showContent]])],2112)}
_sfc_main$1.render=_sfc_render$1;let infoWindowEvents="closeclick content_changed domready position_changed visible zindex_changed".split(" ");
var _sfc_main=vue.defineComponent({props:{options:{type:Object,default:()=>({})}},emits:infoWindowEvents,setup(a,{slots:b,emit:e}){let c,d=vue.ref(),f=vue.ref(),g=vue.inject(mapSymbol,vue.ref(null)),l=vue.inject(apiSymbol,vue.ref(null)),h=vue.inject(markerSymbol,vue.ref(null)),m,k=vue.computed(()=>{var a;return null===(a=b.default)||void 0===a?void 0:a.call(b).some(a=>a.type!==vue.Comment)});vue.onMounted(()=>{vue.watch([g,()=>a.options],([,a],[b,p])=>{b=JSON.stringify(a)!==JSON.stringify(p)||g.value!==
b;g.value&&l.value&&b&&(c?(c.setOptions({...a,content:k.value?f.value:a.content}),h.value||c.open({map:g.value})):(d.value=c=new l.value.InfoWindow({...a,content:k.value?f.value:a.content}),h.value?m=h.value.addListener("click",()=>{c.open({map:g.value,anchor:h.value})}):c.open({map:g.value}),infoWindowEvents.forEach(a=>{null===c||void 0===c?void 0:c.addListener(a,b=>e(a,b))})))},{immediate:!0})});vue.onBeforeUnmount(()=>{var a;m&&m.remove();c&&(null===(a=l.value)||void 0===a?void 0:a.event.clearInstanceListeners(c),
c.close())});return{infoWindow:d,infoWindowRef:f,hasSlotContent:k,anchor:h}}}),css_248z="\n.info-window-content[data-v-5b373d6e] {\n  display: none;\n}\n.mapdiv .info-window-content[data-v-5b373d6e] {\n  display: block;\n}\n";styleInject(css_248z);let _withId=vue.withScopeId("data-v-5b373d6e");vue.pushScopeId("data-v-5b373d6e");let _hoisted_1={key:0,ref:"infoWindowRef",class:"info-window-content"};vue.popScopeId();
let _sfc_render=_withId((a,b,e,c,d,f)=>a.hasSlotContent?(vue.openBlock(),vue.createBlock("div",_hoisted_1,[vue.renderSlot(a.$slots,"default",{},void 0,!0)],512)):vue.createCommentVNode("v-if",!0));_sfc_main.render=_sfc_render;_sfc_main.__scopeId="data-v-5b373d6e";exports.Circle=Circle;exports.CustomControl=_sfc_main$1;exports.GoogleMap=_sfc_main$2;exports.InfoWindow=_sfc_main;exports.Marker=Marker;exports.Polygon=Polygon;exports.Polyline=Polyline;exports.Rectangle=Rectangle
